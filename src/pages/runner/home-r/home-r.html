<!--
  Generated template for the HomeRPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->


<ion-header>
  <ion-navbar>
    <button ion-button [menuToggle]='activeMenu'>
      <ion-icon name="menu" ></ion-icon>
    </button>
    <ion-title align="center">Home</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <h3 style="color: blue" align="left">@{{usernamePassed}}</h3>

  <!--availability -->
  <ion-item>
    <ion-label> Availability</ion-label>
    <!-- [checked]="getAvailability()"-->
    <ion-toggle  [(ngModel)]="data.av" (ionChange)="availableToggled()">
    </ion-toggle>
  </ion-item>

  <br><br>

  <!-- delivery request-->
  <h4 align="center" [hidden]="!haveDel">Delivery Request</h4>

  <ion-card [hidden]="!haveDel">

    <ion-list-header>
        <ion-item>
          <ion-row>
            <ion-col col-4 align="center">User ID</ion-col>
            <ion-col col-3 align="center">Title</ion-col>
            <ion-col col-4 align="center">$</ion-col>
          </ion-row>
        </ion-item>
    </ion-list-header>


    <ion-list *ngFor="let d of delivery">
      <ion-item>
        <button ion-item start  detail-none (click)="review()" >

          <ion-row>
            <ion-col col-4 align="center">{{d.userUsername}}</ion-col>
            <ion-col col-3 align="center">{{d.title}}</ion-col>
            <ion-col col-4 align="center">RM SOON</ion-col>
            <ion-col col-1 align="center"><ion-icon name="arrow-forward"></ion-icon></ion-col>
          </ion-row>

        </button>
      </ion-item>
    </ion-list>
  </ion-card>

  <br><br>

  <!-- current delivery -->
    <ion-grid *ngFor="let d of delivery" [hidden]="!haveAcc">

      <h4>Delivery for <a>@{{d.userUsername}} </a></h4>

      <ion-row>
        <ion-col col-4><b>Title</b></ion-col>
        <ion-col col-4 align="left">{{d.title}}</ion-col>
      </ion-row>

      <ion-row>
        <ion-col col-4><b>Description</b></ion-col>
        <ion-col col-8 align="left">{{d.additional}}</ion-col>
      </ion-row>

      <ion-row>
        <ion-col col-4><b>Payment</b></ion-col>
        <ion-col col-4 align="left">COMING SOON</ion-col>
      </ion-row>

      <ion-card>
        <button ion-button round outline type="submit" (click)="goMap()">Show Map</button>
      </ion-card>

      <ion-row>
          <ion-col colspan="2" align="middle"> <button ion-button outline type="submit" (click)="cancelButton()" color = "danger">Cancel Delivery</button> </ion-col>
      </ion-row>

      <ion-footer ion-fixed no-border >

        <ion-toolbar no-border>
          <ion-buttons end>
            <button ion-button (click)="goChat()">
              Chat with <a>@{{d.userUsername}}</a>
              <ion-icon name="chatbubbles" color="primary"></ion-icon>
            </button>
          </ion-buttons>
        </ion-toolbar>

      </ion-footer>

    </ion-grid>

  <!--  <button ion-button secondary menuToggle>Toggle Menu</button> -->
</ion-content>
